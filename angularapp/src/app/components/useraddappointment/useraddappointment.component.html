<app-navbar></app-navbar>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
<div class="container mt-5">
  <h2 class="text-center text-primary mb-4">
    <i class="bi bi-wrench-adjustable-circle me-2"></i> Book a Vehicle Service
</h2>
 
  <div *ngIf="services && services.length > 0; else noServices" class="shadow-lg p-4 bg-light rounded">
    <table class="table table-hover table-striped">
      <thead class="bg-primary text-white">
        <tr>
          <th>Service ID</th>
          <th>Service Name</th>
          <th>Service Price</th>
          <th>Vehicle Type</th>
          <th>Appointment Date</th>
          <th>Location</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let service of services">
          <td>{{ service.id }}</td>
          <td class="fw-bold text-primary" >{{ service.serviceName }}</td>
          <td class="text-success fw-semibold">{{ service.servicePrice | currency :'INR' }}</td>
          <td>{{ service.typeOfVehicle }}</td>
 
          <!-- Appointment Date Validation -->
          <td>
            <input type="date" [(ngModel)]="service.appointmentDate" name="appointmentDate"
              class="form-control form-control-sm" #appointmentDate="ngModel" required />
            <div class="text-danger small" *ngIf="appointmentDate.invalid && (appointmentDate.touched || appointmentDate.dirty)">
              Appointment Date is required.
            </div>
          </td>
 
          <!-- Location Dropdown -->
          <td>
            <select [(ngModel)]="service.location" class="form-control form-control-sm" required>
              <option *ngFor="let location of locations" [value]="location">{{ location }}</option>
            </select>
          </td>
 
          <!-- Action Button -->
          <td>
            <button class="btn btn-success btn-sm" (click)="bookAppointment(service)"
              [disabled]="!service.appointmentDate || !service.location">
              <i class="fas fa-calendar-check"></i> Book
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
 
  <ng-template #noServices>
    <div class="alert alert-warning text-center mt-4">
      <i class="fas fa-exclamation-circle"></i> Oops! No services found.
    </div>
  </ng-template>
</div>