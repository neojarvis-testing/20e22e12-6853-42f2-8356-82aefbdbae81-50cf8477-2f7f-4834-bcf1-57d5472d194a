<app-navbar></app-navbar>

<div class="container mt-5">
    <h2 class="text-center text-primary fw-bold mb-4">
        ⭐ Appointments ⭐
    </h2>
    
    <table class="table table-bordered table-hover shadow-lg bg-white">
      <thead style="background: linear-gradient(45deg, #007bff, #0056b3); color: white;">
        <tr>
          <th><i class="fas fa-id-badge"></i> Service ID</th>
          <th><i class="fas fa-tools"></i> Service Name</th>
          <th><i class="fas fa-dollar-sign"></i> Service Price</th>
          <th><i class="fas fa-car-side"></i> Vehicle Type</th>
          <th><i class="far fa-calendar-alt"></i> Appointment Date</th>
          <th><i class="fas fa-map-marker-alt"></i> Location</th>
          <th><i class="fas fa-clipboard-check"></i> Status</th>
          <th><i class="fas fa-cogs"></i> Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let service of vehicles" class="align-middle">
          <td>{{ service.id }}</td>
          <td>
            <i class="fas fa-star text-warning"></i> {{ service.serviceName }}
          </td>
          <td>
            <i class="fas fa-money-bill-wave text-success"></i> {{ service.servicePrice }}
          </td>
          <td>
            <i class="fas fa-car text-secondary"></i> {{ service.typeOfVehicle }}
          </td>
          <td>
            <i class="far fa-clock text-danger"></i> {{ service.appointment.appointmentDate }}
          </td>
          <td>
            <i class="fas fa-map-marker-alt text-info"></i> {{ service.appointment.location }}
          </td>
          <td>
            <span class="badge bg-success" *ngIf="service.appointment.status=='APPROVED'">✔ Approved</span>
            <span class="badge bg-danger" *ngIf="service.appointment.status=='REJECTED'">✖ Rejected</span>
            <span class="badge bg-warning text-dark" *ngIf="service.appointment.status!='APPROVED' && service.appointment.status!='REJECTED'">⏳ Pending</span>
          </td>
          <td>
            <button class="btn btn-success btn-sm me-2" (click)="approve(service.appointment.id, service.appointment)" 
              [disabled]="service.appointment.status=='APPROVED' || service.appointment.status=='REJECTED'">
              <i class="fas fa-check-circle"></i> Approve
            </button>
            <button class="btn btn-danger btn-sm me-2" (click)="reject(service.appointment.id, service.appointment)" 
            [disabled]="service.appointment.status=='APPROVED' || service.appointment.status=='REJECTED'">
            <i class="fas fa-times-circle"></i> Reject
          </button>
          <button class="btn btn-warning btn-sm" (click)="deleteAppointment(service.appointment.id)">
            <i class="fas fa-trash-alt"></i> Delete
          </button>
          </td>
        </tr>
      </tbody>
    </table>
</div>

<!-- Include Bootstrap and FontAwesome for icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
