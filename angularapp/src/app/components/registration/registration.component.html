<div class="container-fluid login-page vh-100">
    <div class="row h-100">
      <div class="col-md-6 d-flex align-items-center justify-content-center position-relative p-0">
        <div class="backImage login-image"></div>
        <div class="overlay-text"
          style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2em; font-weight: bold; font-family: serif; color: white; background-color: rgba(0, 0, 0, 0.3); padding: 10px 20px; border-radius: 10px;">
          Vehicle Service
        </div>
      </div>
     
      <div class="col-md-6 d-flex align-items-center justify-content-center">
        <div class="w-75 p-4"
          style="background-color: rgb(255, 255, 255); border-radius: 10px; box-shadow: 0 0 10px navy !important; margin-left: 40px;">
          <div class="login-form">
            <h1 class="text-center mb-4" style="font-family: serif; font-weight: bold;">Signup</h1>
            <form [formGroup]="signupForm" (ngSubmit)="signupUser()" class="needs-validation" novalidate>
              <div class="mb-3">
                <input type="text" class="form-control" id="username" name="username" formControlName="username"
                  placeholder="Username" style="border: none; border-bottom: 1px solid purple; border-radius: 0;">
                <div style="color: red"
                  *ngIf="signupForm.controls.username.errors?.required && (signupForm.controls.username.dirty || signupForm.controls.username.touched)">
                  Username is required.
                </div>
                <div style="color: red" *ngIf="signupForm.get('username')?.errors?.pattern">Username must contain
                  alphabets only.</div>
              </div>
              <div class="mb-3">
                <input type="email" class="form-control" id="email" name="email" formControlName="email"
                  placeholder="Email" style="border: none; border-bottom: 1px solid purple; border-radius: 0;">
                <div style="color: red"
                  *ngIf="signupForm.controls.email.errors?.required && (signupForm.controls.email.dirty || signupForm.controls.email.touched)">
                  Email is required.
                </div>
                <div style="color: red"
                  *ngIf="signupForm.controls.email.errors?.email && (signupForm.controls.email.dirty || signupForm.controls.email.touched)">
                  Please enter a valid email.
                </div>
              </div>
              <div class="mb-3">
                <input type="tel" class="form-control" id="mobileNumber" name="mobileNumber"
                  formControlName="mobileNumber" placeholder="Mobile Number"
                  style="border: none; border-bottom: 1px solid purple; border-radius: 0;">
                <div style="color: red"
                  *ngIf="signupForm.controls.mobileNumber.errors?.required && (signupForm.controls.mobileNumber.dirty || signupForm.controls.mobileNumber.touched)">
                  Mobile Number is required.
                </div>
                <div style="color: red"
                  *ngIf="signupForm.controls.mobileNumber.errors?.pattern && (signupForm.controls.mobileNumber.dirty || signupForm.controls.mobileNumber.touched)">
                  Mobile number must be 10 digits.
                </div>
              </div>
              <div class="mb-3">
                <input type="password" class="form-control" id="password" name="password" formControlName="password"
                  placeholder="Password" style="border: none; border-bottom: 1px solid purple; border-radius: 0;">
                <div style="color: red"
                  *ngIf="signupForm.controls.password.errors?.required && (signupForm.controls.password.dirty || signupForm.controls.password.touched)">
                  Password is required.
                </div>
                <div style="color: red"
                  *ngIf="signupForm.controls.password.errors?.minlength && (signupForm.controls.password.dirty || signupForm.controls.password.touched)">
                  Password must be at least 6 characters.
                </div>
              </div>
              <div class="mb-3">
                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                  formControlName="confirmPassword" placeholder="Confirm Password"
                  style="border: none; border-bottom: 1px solid purple; border-radius: 0;">
                <div style="color: red"
                  *ngIf="signupForm.controls.confirmPassword.errors?.required && (signupForm.controls.confirmPassword.dirty || signupForm.controls.confirmPassword.touched)">
                  Confirm Password is required.
                </div>
                <div style="color: red"
                  *ngIf="signupForm.controls.confirmPassword.errors?.passwordMismatch && (signupForm.controls.confirmPassword.dirty || signupForm.controls.confirmPassword.touched)">
                  Passwords do not match.
                </div>
              </div>
              <div class="mb-3">
                <select class="form-select" id="userRole" formControlName="userRole"
                  style="border: none; border-bottom: 1px solid purple; border-radius: 0%;" required>
                  <option value="" disabled selected>Select Role</option>
                  <option value="USER">User</option>
                  <!-- <option value="ADMIN">Admin</option> -->
                </select>
                <div style="color: red"
                  *ngIf="signupForm.controls.userRole.errors?.required && (signupForm.controls.userRole.dirty || signupForm.controls.userRole.touched)">
                  Role is required.
                </div>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary w-100">Signup</button>
              </div>
            </form>
            <p class="signup-link text-center">Already have an account? <a routerLink="/login">Login</a></p>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="isLoading" class="loading-overlay">
      <div class="loading-spinner">
        <div class="spinner-border" role="status">
          <span class="sr-only"></span>
        </div>
        <div>Loading...</div>
      </div>
    </div>
  </div>